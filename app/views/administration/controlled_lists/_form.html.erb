<%= form_for(@controlled_list, html: { class: 'form-horizontal' }) do |f| %>
    <% if @controlled_list.errors.any? %>
        <div id="error_explanation">
          <h2><%= pluralize(@controlled_list.errors.count, "error") %> prohibited this controlled_list from being saved:</h2>
          <ul>
            <% @controlled_list.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
          </ul>
        </div>
    <% end %>
    <% unless @controlled_list.name %>
        <div class="control-group">
          <%= f.label t('.vocab_name'), class: 'control-label' %>
          <div class="controls">
            <%= f.text_field :name %>
          </div>
        </div>
    <% end %>
    <% if @controlled_list.elements.length > 0 %>
        <h3><%= t '.entries' %></h3>
        <% @controlled_list.elements.each do |element| %>
            <%= render partial: 'element', object: element %>
            <hr/>
        <% end %>
    <% end %>
    <h4><%= t '.new_entry' %></h4>
    <div data-hook="empty-entries">
      <%= render partial: 'element', object: Administration::ListEntry.new %>
    </div>
    <hr/>
    <a class="btn btn-small" href="#" data-function="new-controlled_list-entry"><i class="icon-plus-sign"></i> <%= t '.add_new' %></a>
    <hr/>
    <div class="actions">
      <%= f.submit 'Save', class: 'btn' %>
    </div>
<% end %>