<%# View of XML output with syntax highlighting %>
<style>
    <%= Rouge::Themes::Github.render(scope: '.highlight') %>
</style>
<% if @file.mime_type.include? 'xml' %>
    <% content = @file.content.force_encoding('UTF-8') %>
    <% formatter = ::Rouge::Formatters::HTML.new(css_class: 'highlight', line_numbers: true) %>
    <% lexer = ::Rouge::Lexers::XML.new %>
    <%= formatter.format(lexer.lex(content)).html_safe %>
<% end %>